# 跳一跳小游戏（Rust 实现）

## 📋 项目介绍

本项目是一款基于 Rust 语言开发的经典 "跳一跳" 休闲小游戏，使用 bevy 游戏引擎实现核心逻辑。玩家通过键盘或鼠标控制角色在随机生成的平台间跳跃，跳跃距离与按键时长成正比，成功落地得分，掉落则游戏结束。项目采用 Rust 安全高效的特性，实现了流畅的物理效果和响应式控制。

## 🎮 游戏玩法

- 按空格键或点击鼠标蓄力，松开按键完成跳跃
- 蓄力时间越长，跳跃距离越远（存在最大蓄力限制）
- 成功落在平台上获得基础分，跳跃距离越远/落点越中心，得分加成越高
- 若跳跃后未接触任何平台，游戏结束
- 按 R 键可重新开始游戏

## ✨ 功能特点

- 基于 bevy_rapier 物理引擎的真实抛物线运动模拟
- 随游戏进度动态提升难度（平台间距增大、宽度随机范围扩大）
- 实时计分与历史最高分记录（本地存储）
- 简洁的 2D 像素风格画面，支持窗口大小调整
- 完整的游戏状态管理（开始、运行、结束）
- 跳跃、得分、失败等音效反馈

## 🛠️ 技术栈

- **核心引擎**：bevy 0.12（Rust 轻量级游戏引擎）
- **物理系统**：bevy_rapier2d（2D 物理碰撞检测）
- **资源管理**：bevy_asset_loader（资产预加载）
- **本地存储**：bevy_persistent（高分记录持久化）
- **音频处理**：bevy_kira_audio（音效播放）

## 📁 项目结构

```plaintext
jump_game/
├── assets/                # 游戏资源
│   ├── image/             # 素材图（角色、平台、背景、按钮）
│   ├── sounds/            # 音效文件（跳跃、得分、失败）
│   └── fonts/             # 字体文件（计分板显示）
├── src/
│   ├── main.rs            # 程序入口
│   │── camera.rs          # 游戏模块入口
│   │── player.rs          # 角色控制与跳跃逻辑
│   │── platform.rs        # 平台生成与管理
│   └── ui.rs              # 界面渲染（计分板、游戏结束弹窗）
├── Cargo.toml             # 依赖配置
└── README.md              # 项目说明
```

## 🚀 安装与运行

### 环境要求

- Rust 1.70+（推荐使用 rustup 安装）
- 支持 OpenGL 3.3+ 或 Vulkan 的显卡（取决于 Bevy 渲染后端）

### 运行步骤

1. **克隆仓库**：

```bash
git clone https://github.com/sleeep913/JumpGame.git
cd JumpGame
```

2. **编译并运行**：

```bash
# 开发模式运行（便于调试）
cargo run

# 发布模式运行（性能更好）
cargo run --release
```

3. **游戏控制**：
   - 空格键 / 鼠标点击：蓄力跳跃
   - R 键：重新开始
   - ESC 键：退出游戏

## 🔍 开发说明

### 核心逻辑实现

#### 跳跃机制
- 监听按键按下/释放事件，计算蓄力时长（0~1.5s 范围）
- 将蓄力时长映射为跳跃初速度（水平方向为主，带轻微垂直向上分量）
- 通过 bevy_rapier 施加冲量实现物理运动

#### 平台生成
- 初始生成固定起点平台
- 角色每次成功落地后，在前方随机位置（x: 3.0~8.0，y: -1.0~1.0）生成新平台
- 平台宽度随分数增长动态调整（0.8~2.0 范围）

#### 碰撞检测
- 角色底部与平台顶部的碰撞视为 "成功落地"
- 角色 y 坐标低于 -10.0 时判定为 "掉落失败"

#### 计分规则
- 基础分：每次成功落地 +10 分
- 距离加成：跳跃距离每增加 1.0 单位 +2 分
- 中心加成：落点越靠近平台中心，额外 +0~5 分

### 📈 可扩展方向

- 增加角色皮肤系统（通过 bevy_asset_loader 加载不同精灵图）
- 加入随机道具（弹簧、跳板、加速鞋等）
- 实现在线排行榜（集成 reqwest 调用后端 API）
- 增加关卡模式（固定平台布局）
- 支持游戏手柄输入（通过 bevy_input 扩展）

## 📜 版权信息

项目中使用的图片、音效等资源仅供学习交流使用，请勿用于商业用途。如有侵权，请联系删除。

## 📬 联系方式

- 项目地址：[https://github.com/sleeep913/JumpGame.git]
- 问题反馈：[https://github.com/sleeep913/JumpGame/issues]
